
<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>שיעורים יומיים</title>
  <style>
    body { font-family: sans-serif; background: #f8f4eb; padding: 20px; direction: rtl; }
    .title { font-size: 2em; font-weight: bold; color: #8b1538; margin-bottom: 0.5em; }
    .subtitle { font-size: 1.2em; color: #7b1f3a; margin-bottom: 1em; }
    .section { margin-top: 20px; padding: 10px; background: #fff; border-radius: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
    .mini-title { font-weight: bold; color: #7b1f3a; margin-top: 0.5em; }
    ul { padding-right: 1em; }
  </style>
</head>
<body>
  <div id="app">טוען נתונים...</div>

  <script>
    const url = 'https://script.google.com/macros/s/AKfycbz05q7hh4p43ZoHDwzPgYoFgxqBCLU8DMKV7dTNM-kP1CppqhKaVsJR1KIf8JTt3Osw/exec?page=shiurim';

    fetch(url)
      .then(res => res.json())
      .then(data => {
        const app = document.getElementById('app');
        app.innerHTML = '';

        const title = document.createElement('div');
        title.className = 'title';
        title.textContent = data.header;
        app.appendChild(title);

        const sub = document.createElement('div');
        sub.className = 'subtitle';
        sub.textContent = data.subTitle;
        app.appendChild(sub);

        data.boxes.forEach(box => {
          const section = document.createElement('div');
          section.className = 'section';

          if (box.kind === 'columns-3' || box.kind === 'rambam-3') {
            if (box.title) {
              const t = document.createElement('div');
              t.className = 'mini-title';
              t.textContent = box.title;
              section.appendChild(t);
            }
            box.cols.forEach(col => {
              const colTitle = document.createElement('div');
              colTitle.className = 'mini-title';
              colTitle.textContent = col.title;
              section.appendChild(colTitle);

              const ul = document.createElement('ul');
              col.items.forEach(item => {
                const li = document.createElement('li');
                li.textContent = item;
                ul.appendChild(li);
              });
              section.appendChild(ul);
            });
          } else if (box.kind === 'hayom') {
            const t = document.createElement('div');
            t.className = 'mini-title';
            t.textContent = box.title;
            section.appendChild(t);

            const p = document.createElement('p');
            p.textContent = box.text;
            section.appendChild(p);
          }

          app.appendChild(section);
        });
      })
      .catch(err => {
        document.getElementById('app').textContent = 'שגיאה בטעינה: ' + err.message;
      });
  </script>
</body>
</html>
